# mysql-docker-compose
ローカル環境で、MySQLに接続するようなアプリケーションの動作確認をしたい際に、サクッとMySQLをDockerで構築する手順です。

## 前提条件
- Dockerがインストールされていること
- mysql-clientがインストールされていること

## 手順
**MySQLコンテナの起動**
```bash
$ docker-compose up -d
```

**MySQLへ接続**
```bash
$ mysql -u root -p -h localhost -P 3306 --protocol=tcp
```

## MySQLの初期設定
ユーザー名やパスワードは、`docker-compose.yaml` に記載しているので参照してください。

## MySQLの初期データ
Docker の MySQL イメージは、`/docker-entrypoint-initdb.d` にマウントしたディレクトリに `.sql` `.sh` `.sql.gz` という拡張子でファイルを配置しておくと、MySQL イメージからコンテナを生成・起動する時に、それらのファイルを読み込み実行してくれます。
この仕組みを利用して、MySQLコンテナ生成・起動時に初期データを登録しています。

### スキーマ
**スキーマ名**
sample

### テーブル
**テーブル名**
prefecture (都道府県の意)

**テーブル定義**
```sql
CREATE TABLE `prefecture` (
  `id` tinyint(3) unsigned NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  `name_kana` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
);
```

**テーブルの中身**

```sql
mysql> select  * from sample.prefecture;
+----+--------------+--------------------+
| id | name         | name_kana          |
+----+--------------+--------------------+
|  1 | 北海道       | ホッカイドウ       |
|  2 | 青森県       | アオモリケン       |
|  3 | 岩手県       | イワテケン         |
|  4 | 宮城県       | ミヤギケン         |
|  5 | 秋田県       | アキタケン         |
|  6 | 山形県       | ヤマガタケン       |
|  7 | 福島県       | フクシマケン       |
|  8 | 茨城県       | イバラキケン       |
|  9 | 栃木県       | トチギケン         |
| 10 | 群馬県       | グンマケン         |
| 11 | 埼玉県       | サイタマケン       |
| 12 | 千葉県       | チバケン           |
| 13 | 東京都       | トウキョウト       |
| 14 | 神奈川県     | カナガワケン       |
| 15 | 新潟県       | ニイガタケン       |
| 16 | 富山県       | トヤマケン         |
| 17 | 石川県       | イシカワケン       |
| 18 | 福井県       | フクイケン         |
| 19 | 山梨県       | ヤマナシケン       |
| 20 | 長野県       | ナガノケン         |
| 21 | 岐阜県       | ギフケン           |
| 22 | 静岡県       | シズオカケン       |
| 23 | 愛知県       | アイチケン         |
| 24 | 三重県       | ミエケン           |
| 25 | 滋賀県       | シガケン           |
| 26 | 京都府       | キョウトフ         |
| 27 | 大阪府       | オオサカフ         |
| 28 | 兵庫県       | ヒョウゴケン       |
| 29 | 奈良県       | ナラケン           |
| 30 | 和歌山県     | ワカヤマケン       |
| 31 | 鳥取県       | トットリケン       |
| 32 | 島根県       | シマネケン         |
| 33 | 岡山県       | オカヤマケン       |
| 34 | 広島県       | ヒロシマケン       |
| 35 | 山口県       | ヤマグチケン       |
| 36 | 徳島県       | トクシマケン       |
| 37 | 香川県       | カガワケン         |
| 38 | 愛媛県       | エヒメケン         |
| 39 | 高知県       | コウチケン         |
| 40 | 福岡県       | フクオカケン       |
| 41 | 佐賀県       | サガケン           |
| 42 | 長崎県       | ナガサキケン       |
| 43 | 熊本県       | クマモトケン       |
| 44 | 大分県       | オオイタケン       |
| 45 | 宮崎県       | ミヤザキケン       |
| 46 | 鹿児島県     | カゴシマケン       |
| 47 | 沖縄県       | オキナワケン       |
+----+--------------+--------------------+
47 rows in set (0.01 sec)
```